/*  
* jQuery responsive, carousel plugin
*   https://github.com/emelineL/mCarousel
*/
(function(e){e.fn.mCarousel=function(t){if(this.length>1){this.each(function(){e(this).myPlugin(t)});return this}var n={prevControl:"",nextControl:"",enableHiddenControls:true,carouselWrapper:".mCarousel-wrapper",itemWidth:200,placeholder:false};t=e.extend(n,t);var r=t.placeholder;var i=t.minItems;var s=t.itemWidth;var o;var u;var a=e(t.prevControl);var f=e(t.nextControl);var l=t.enableHiddenControls;var c=0;var h=0;var p=0;var d=e(this);var v=e(this).find(t.carouselWrapper);var m=v.children("ul");var g={};this._init=function(t){g._setWidth();e(window).resize(function(){g._resize()});d.resize(function(){g._resize()});v.css({visibility:"visible",position:"relative","z-index":2,left:0,overflow:"hidden"});m.css({overflow:"hidden",margin:0,padding:0,position:"relative","list-style-type":"none","z-index":1});g._setBindings();return this};g._setWidth=function(){var e=0;u=m.children("li").length;if(r==true){e=u+1}else{e=u}if(typeof i!=="undefined"&&e<=i){o=e;if(r==true){c=i*s;h=c}else{c=e*s;h=c}}else{var t=d.width()-a.outerWidth()-f.outerWidth();o=Math.floor(t/s);if(o<=e){c=o*s;h=e*s;p=-(e-o)*s;if(m.css("left")=="auto"){m.css("left",p)}else{m.animate({left:p})}if(l===true){g._checkControls(o,e)}}else{o=e;c=e*s;h=c;v.width(c)}}m.width(h);v.width(c)};g._resize=function(){var e=0;if(r==true){e=u+1}else{e=u}if(typeof i=="undefined"||e>i){var t=false;var n=-(e-o)*s;if(parseInt(p)==n){t=true}var h=d.width()-a.outerWidth()-f.outerWidth();var y=o;o=Math.floor(h/s);c=o*s;if(l===true){g._checkControls(o,e)}if(o<=e){v.width(c);if(y<o){if(t){p+=s;m.css({left:p})}}}else{o=y;c=e*s;v.width(c)}}};g._checkControls=function(e,t){if(e<t){g._showControls();if(p==0){a.css("visibility","hidden")}else{a.css("visibility","visible")}if(e*s-p==h){f.css("visibility","hidden")}else{f.css("visibility","visible")}}else{g._hideControls()}};g._hideControls=function(){a.css("visibility","hidden");f.css("visibility","hidden")};g._showControls=function(){a.css("visibility","visible");f.css("visibility","visible")};g._setBindings=function(){if(l===true){if(p==0){a.css("visibility","hidden")}if(o*s-p==h){f.css("visibility","hidden")}}a.unbind();a.click(function(){if(p<0){p+=s;m.animate({left:p},function(){if(l===true){if(p==0){a.css("visibility","hidden")}if(o*s-p<h){f.css("visibility","visible")}}})}});f.unbind();f.click(function(){if(o*s-p<h){p-=s;m.animate({left:p},function(){if(l===true){if(p<0){a.css("visibility","visible")}if(o*s-p==h){f.css("visibility","hidden")}}})}})};this.resize=function(){g._resize()};this.updateItemList=function(){g._setWidth()};return this._init()}})(jQuery)